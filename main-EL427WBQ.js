import{a as k}from"./chunk-TIK4CJX7.js";import{$ as we,A as ve,B as Fe,C as Pt,D as Z,E as lr,F as fr,G as pr,H as mr,I as _e,J as gr,K as hr,L as br,M as vr,N as X,O as yr,P as wr,Q as Sr,R as Ir,S as Er,T as Mr,V as $,W as Tr,X as Je,Y as Re,Z as ye,_ as V,a as No,aa as R,b as Uo,ba as kr,ca as Dr,da as Se,ea as Ie,f as I,fa as xr,g as or,i as rr,j as nr,k as ir,l as sr,r as ar,s as cr,t as ur,u as dr,v as Ge,w as Oe,x as be,y as Ae,z as ze}from"./chunk-N4R2D4AS.js";import{a as m}from"./chunk-VTGFZXAA.js";import{a as Cr,b as Qe,c as Or,d as Ar}from"./chunk-37JGKMDG.js";import{$ as Ue,$a as b,A as z,Ad as Yo,B as K,D as y,Da as me,Ed as Go,F as U,Fb as Do,G as so,Gb as ge,Gd as Ce,H as ao,Ha as B,Ia as $e,Id as zo,J as co,Ja as bo,Jd as Jo,K as Dt,Ld as Qo,M as uo,Md as Zo,Nd as Xo,Oa as Le,Ob as We,Od as er,Pb as Be,Pd as tr,Qa as vo,R as H,Ra as Ot,Tb as xo,U as Ne,Ua as ke,Wa as De,X as re,Xc as Rt,Y as lo,_ as C,_a as Y,_b as Co,a,aa as fe,ab as v,b as d,ba as q,bb as j,ca as f,cd as Ke,da as pe,e as u,ea as fo,ed as Po,fd as qe,g as de,gd as Ye,h as le,ib as At,ja as po,jb as yo,jc as Oo,jd as jo,kb as wo,kd as W,la as je,lb as Ft,ld as $o,ma as mo,mb as So,na as go,nd as Lo,ob as Io,oc as _t,od as Wo,pb as Eo,pc as Ao,pd as Bo,q as A,qd as J,r as S,ra as xt,rc as He,s as h,sc as he,tc as Ve,td as Ho,u as T,uc as Fo,ud as g,va as ho,vb as Mo,vc as _o,vd as Q,wa as Ct,wb as To,wd as Vo,xb as _,xc as Ro,xd as Ko,yb as xe,yd as qo,z as kt,za as F,zb as ko}from"./chunk-QHXVKW2R.js";var xi=["*",[["mat-toolbar-row"]]],Ci=["*","mat-toolbar-row"],Oi=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=bo({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return e})(),Ze=(()=>{class e{_elementRef=f(ho);_platform=f(Ro);_document=f(mo);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=B({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,n,i){if(r&1&&So(i,Oi,5),r&2){let s;Io(s=Eo())&&(n._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,n){r&2&&(To(n.color?"mat-"+n.color:""),Mo("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",n._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:Ci,decls:2,vars:0,template:function(r,n){r&1&&(wo(xi),Ft(0),Ft(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return e})();var Xe=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=$e({type:e});static \u0275inj=Ue({imports:[Rt,Rt]})}return e})();var _i=()=>["/dashboard"],Ri=()=>["/calendar"],Pi=()=>["/settings"],et=class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["app-navbar"]],decls:10,vars:6,consts:[["fxLayoutAlign","space-around center",1,"bottom-nav"],["matIconButton","","routerLinkActive","active",3,"routerLink"]],template:function(o,r){o&1&&(b(0,"mat-toolbar",0)(1,"button",1)(2,"mat-icon"),_(3,"dashboard"),v()(),b(4,"button",1)(5,"mat-icon"),_(6,"calendar_today"),v()(),b(7,"button",1)(8,"mat-icon"),_(9,"settings"),v()()()),o&2&&(F(),Y("routerLink",ge(3,_i)),F(3),Y("routerLink",ge(4,Ri)),F(3),Y("routerLink",ge(5,Pi)))},dependencies:[Xe,Ze,xr,Ve,Fo,Ye,qe,Ke],styles:[".bottom-nav[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;justify-content:space-around;height:56px;z-index:1000;background-color:var(--primary-color)}.active[_ngcontent-%COMP%]{background-color:var(--secondary-color)}button[_ngcontent-%COMP%]{color:var(--text-primary)}"]})};var Ni=()=>["/settings"],ot=class e{pageTitle="";static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["app-header"]],inputs:{pageTitle:"pageTitle"},decls:8,vars:3,consts:[["color","primary","fxLayoutAlign","space-around center",1,"header"],[1,"spacer"],["matIconButton","","routerLinkActive","active",3,"routerLink"]],template:function(o,r){o&1&&(b(0,"mat-toolbar",0)(1,"span")(2,"strong"),_(3),v()(),j(4,"span",1),b(5,"button",2)(6,"mat-icon"),_(7,"settings"),v()()()),o&2&&(F(3),xe(r.pageTitle),F(2),Y("routerLink",ge(2,Ni)))},dependencies:[Xe,Ze,Ye,Ve,Ke],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;padding-left:1.5rem;padding-right:1.5rem;height:56px;z-index:1000;background-color:var(--primary-color);color:var(--text-primary)}button[_ngcontent-%COMP%]{color:var(--text-primary)}"]})};var Pr="@firebase/installations",$t="0.6.18";var Nr=1e4,Ur=`w:${$t}`,jr="FIS_v2",Ui="https://firebaseinstallations.googleapis.com/v1",ji=3600*1e3,$i="installations",Li="Installations";var Wi={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ie=new Ge($i,Li,Wi);function $r(e){return e instanceof dr&&e.code.includes("request-failed")}function Lr({projectId:e}){return`${Ui}/projects/${e}/installations`}function Wr(e){return{token:e.token,requestStatus:2,expiresIn:Hi(e.expiresIn),creationTime:Date.now()}}function Br(e,t){return u(this,null,function*(){let r=(yield t.json()).error;return ie.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function Hr({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Bi(e,{refreshToken:t}){let o=Hr(e);return o.append("Authorization",Vi(t)),o}function Vr(e){return u(this,null,function*(){let t=yield e();return t.status>=500&&t.status<600?e():t})}function Hi(e){return Number(e.replace("s","000"))}function Vi(e){return`${jr} ${e}`}function Ki(r,n){return u(this,arguments,function*({appConfig:e,heartbeatServiceProvider:t},{fid:o}){let i=Lr(e),s=Hr(e),l=t.getImmediate({optional:!0});if(l){let N=yield l.getHeartbeatsHeader();N&&s.append("x-firebase-client",N)}let M={fid:o,authVersion:jr,appId:e.appId,sdkVersion:Ur},x={method:"POST",headers:s,body:JSON.stringify(M)},p=yield Vr(()=>fetch(i,x));if(p.ok){let N=yield p.json();return{fid:N.fid||o,registrationStatus:2,refreshToken:N.refreshToken,authToken:Wr(N.authToken)}}else throw yield Br("Create Installation",p)})}function Kr(e){return new Promise(t=>{setTimeout(t,e)})}function qi(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}var Yi=/^[cdef][\w-]{21}$/,jt="";function Gi(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let o=zi(e);return Yi.test(o)?o:jt}catch{return jt}}function zi(e){return qi(e).substr(0,22)}function nt(e){return`${e.appName}!${e.appId}`}var qr=new Map;function Yr(e,t){let o=nt(e);Gr(o,t),Ji(o,t)}function Gr(e,t){let o=qr.get(e);if(o)for(let r of o)r(t)}function Ji(e,t){let o=Qi();o&&o.postMessage({key:e,fid:t}),Zi()}var ne=null;function Qi(){return!ne&&"BroadcastChannel"in self&&(ne=new BroadcastChannel("[Firebase] FID Change"),ne.onmessage=e=>{Gr(e.data.key,e.data.fid)}),ne}function Zi(){qr.size===0&&ne&&(ne.close(),ne=null)}var Xi="firebase-installations-database",es=1,se="firebase-installations-store",Nt=null;function Lt(){return Nt||(Nt=Ae(Xi,es,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(se)}}})),Nt}function rt(e,t){return u(this,null,function*(){let o=nt(e),n=(yield Lt()).transaction(se,"readwrite"),i=n.objectStore(se),s=yield i.get(o);return yield i.put(t,o),yield n.done,(!s||s.fid!==t.fid)&&Yr(e,t.fid),t})}function zr(e){return u(this,null,function*(){let t=nt(e),r=(yield Lt()).transaction(se,"readwrite");yield r.objectStore(se).delete(t),yield r.done})}function it(e,t){return u(this,null,function*(){let o=nt(e),n=(yield Lt()).transaction(se,"readwrite"),i=n.objectStore(se),s=yield i.get(o),l=t(s);return l===void 0?yield i.delete(o):yield i.put(l,o),yield n.done,l&&(!s||s.fid!==l.fid)&&Yr(e,l.fid),l})}function Wt(e){return u(this,null,function*(){let t,o=yield it(e.appConfig,r=>{let n=ts(r),i=os(e,n);return t=i.registrationPromise,i.installationEntry});return o.fid===jt?{installationEntry:yield t}:{installationEntry:o,registrationPromise:t}})}function ts(e){let t=e||{fid:Gi(),registrationStatus:0};return Jr(t)}function os(e,t){if(t.registrationStatus===0){if(!navigator.onLine){let n=Promise.reject(ie.create("app-offline"));return{installationEntry:t,registrationPromise:n}}let o={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=rs(e,o);return{installationEntry:o,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:ns(e)}:{installationEntry:t}}function rs(e,t){return u(this,null,function*(){try{let o=yield Ki(e,t);return rt(e.appConfig,o)}catch(o){throw $r(o)&&o.customData.serverCode===409?yield zr(e.appConfig):yield rt(e.appConfig,{fid:t.fid,registrationStatus:0}),o}})}function ns(e){return u(this,null,function*(){let t=yield _r(e.appConfig);for(;t.registrationStatus===1;)yield Kr(100),t=yield _r(e.appConfig);if(t.registrationStatus===0){let{installationEntry:o,registrationPromise:r}=yield Wt(e);return r||o}return t})}function _r(e){return it(e,t=>{if(!t)throw ie.create("installation-not-found");return Jr(t)})}function Jr(e){return is(e)?{fid:e.fid,registrationStatus:0}:e}function is(e){return e.registrationStatus===1&&e.registrationTime+Nr<Date.now()}function ss(r,n){return u(this,arguments,function*({appConfig:e,heartbeatServiceProvider:t},o){let i=as(e,o),s=Bi(e,o),l=t.getImmediate({optional:!0});if(l){let N=yield l.getHeartbeatsHeader();N&&s.append("x-firebase-client",N)}let M={installation:{sdkVersion:Ur,appId:e.appId}},x={method:"POST",headers:s,body:JSON.stringify(M)},p=yield Vr(()=>fetch(i,x));if(p.ok){let N=yield p.json();return Wr(N)}else throw yield Br("Generate Auth Token",p)})}function as(e,{fid:t}){return`${Lr(e)}/${t}/authTokens:generate`}function Bt(e,t=!1){return u(this,null,function*(){let o,r=yield it(e.appConfig,i=>{if(!Qr(i))throw ie.create("not-registered");let s=i.authToken;if(!t&&ds(s))return i;if(s.requestStatus===1)return o=cs(e,t),i;{if(!navigator.onLine)throw ie.create("app-offline");let l=fs(i);return o=us(e,l),l}});return o?yield o:r.authToken})}function cs(e,t){return u(this,null,function*(){let o=yield Rr(e.appConfig);for(;o.authToken.requestStatus===1;)yield Kr(100),o=yield Rr(e.appConfig);let r=o.authToken;return r.requestStatus===0?Bt(e,t):r})}function Rr(e){return it(e,t=>{if(!Qr(t))throw ie.create("not-registered");let o=t.authToken;return ps(o)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function us(e,t){return u(this,null,function*(){try{let o=yield ss(e,t),r=Object.assign(Object.assign({},t),{authToken:o});return yield rt(e.appConfig,r),o}catch(o){if($r(o)&&(o.customData.serverCode===401||o.customData.serverCode===404))yield zr(e.appConfig);else{let r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield rt(e.appConfig,r)}throw o}})}function Qr(e){return e!==void 0&&e.registrationStatus===2}function ds(e){return e.requestStatus===2&&!ls(e)}function ls(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ji}function fs(e){let t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function ps(e){return e.requestStatus===1&&e.requestTime+Nr<Date.now()}function ms(e){return u(this,null,function*(){let t=e,{installationEntry:o,registrationPromise:r}=yield Wt(t);return r?r.catch(console.error):Bt(t).catch(console.error),o.fid})}function gs(e,t=!1){return u(this,null,function*(){let o=e;return yield hs(o),(yield Bt(o,t)).token})}function hs(e){return u(this,null,function*(){let{registrationPromise:t}=yield Wt(e);t&&(yield t)})}function bs(e){if(!e||!e.options)throw Ut("App Configuration");if(!e.name)throw Ut("App Name");let t=["projectId","apiKey","appId"];for(let o of t)if(!e.options[o])throw Ut(o);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Ut(e){return ie.create("missing-app-config-values",{valueName:e})}var Zr="installations",vs="installations-internal",ys=e=>{let t=e.getProvider("app").getImmediate(),o=bs(t),r=Fe(t,"heartbeat");return{app:t,appConfig:o,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},ws=e=>{let t=e.getProvider("app").getImmediate(),o=Fe(t,Zr).getImmediate();return{getId:()=>ms(o),getToken:n=>gs(o,n)}};function Ss(){ve(new be(Zr,ys,"PUBLIC")),ve(new be(vs,ws,"PRIVATE"))}Ss();Z(Pr,$t);Z(Pr,$t,"esm2017");var Is="/firebase-messaging-sw.js",Es="/firebase-cloud-messaging-push-scope",sn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ms="https://fcmregistrations.googleapis.com/v1",an="google.c.a.c_id",Ts="google.c.a.c_l",ks="google.c.a.ts",Ds="google.c.a.e",Xr=1e4;var st=(function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e})(st||{});function G(e){let t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xs(e){let t="=".repeat((4-e.length%4)%4),o=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(o),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}var Ht="fcm_token_details_db",Cs=5,en="fcm_token_object_Store";function Os(e){return u(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(i=>i.name).includes(Ht))return null;let t=null;return(yield Ae(Ht,Cs,{upgrade:(r,n,i,s)=>u(null,null,function*(){var l;if(n<2||!r.objectStoreNames.contains(en))return;let M=s.objectStore(en),x=yield M.index("fcmSenderId").get(e);if(yield M.clear(),!!x){if(n===2){let p=x;if(!p.auth||!p.p256dh||!p.endpoint)return;t={token:p.fcmToken,createTime:(l=p.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:G(p.vapidKey)}}}else if(n===3){let p=x;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:G(p.auth),p256dh:G(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:G(p.vapidKey)}}}else if(n===4){let p=x;t={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:G(p.auth),p256dh:G(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:G(p.vapidKey)}}}}})})).close(),yield ze(Ht),yield ze("fcm_vapid_details_db"),yield ze("undefined"),As(t)?t:null})}function As(e){if(!e||!e.subscriptionOptions)return!1;let{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}var Fs="firebase-messaging-database",_s=1,ae="firebase-messaging-store",Vt=null;function Yt(){return Vt||(Vt=Ae(Fs,_s,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ae)}}})),Vt}function cn(e){return u(this,null,function*(){let t=zt(e),r=yield(yield Yt()).transaction(ae).objectStore(ae).get(t);if(r)return r;{let n=yield Os(e.appConfig.senderId);if(n)return yield Gt(e,n),n}})}function Gt(e,t){return u(this,null,function*(){let o=zt(e),n=(yield Yt()).transaction(ae,"readwrite");return yield n.objectStore(ae).put(t,o),yield n.done,t})}function Rs(e){return u(this,null,function*(){let t=zt(e),r=(yield Yt()).transaction(ae,"readwrite");yield r.objectStore(ae).delete(t),yield r.done})}function zt({appConfig:e}){return e.appId}var Ps={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},P=new Ge("messaging","Messaging",Ps);function Ns(e,t){return u(this,null,function*(){let o=yield Qt(e),r=dn(t),n={method:"POST",headers:o,body:JSON.stringify(r)},i;try{i=yield(yield fetch(Jt(e.appConfig),n)).json()}catch(s){throw P.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(i.error){let s=i.error.message;throw P.create("token-subscribe-failed",{errorInfo:s})}if(!i.token)throw P.create("token-subscribe-no-token");return i.token})}function Us(e,t){return u(this,null,function*(){let o=yield Qt(e),r=dn(t.subscriptionOptions),n={method:"PATCH",headers:o,body:JSON.stringify(r)},i;try{i=yield(yield fetch(`${Jt(e.appConfig)}/${t.token}`,n)).json()}catch(s){throw P.create("token-update-failed",{errorInfo:s?.toString()})}if(i.error){let s=i.error.message;throw P.create("token-update-failed",{errorInfo:s})}if(!i.token)throw P.create("token-update-no-token");return i.token})}function un(e,t){return u(this,null,function*(){let r={method:"DELETE",headers:yield Qt(e)};try{let i=yield(yield fetch(`${Jt(e.appConfig)}/${t}`,r)).json();if(i.error){let s=i.error.message;throw P.create("token-unsubscribe-failed",{errorInfo:s})}}catch(n){throw P.create("token-unsubscribe-failed",{errorInfo:n?.toString()})}})}function Jt({projectId:e}){return`${Ms}/projects/${e}/registrations`}function Qt(o){return u(this,arguments,function*({appConfig:e,installations:t}){let r=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function dn({p256dh:e,auth:t,endpoint:o,vapidKey:r}){let n={web:{endpoint:o,auth:t,p256dh:e}};return r!==sn&&(n.web.applicationPubKey=r),n}var js=10080*60*1e3;function $s(e){return u(this,null,function*(){let t=yield Bs(e.swRegistration,e.vapidKey),o={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:G(t.getKey("auth")),p256dh:G(t.getKey("p256dh"))},r=yield cn(e.firebaseDependencies);if(r){if(Hs(r.subscriptionOptions,o))return Date.now()>=r.createTime+js?Ws(e,{token:r.token,createTime:Date.now(),subscriptionOptions:o}):r.token;try{yield un(e.firebaseDependencies,r.token)}catch(n){console.warn(n)}return tn(e.firebaseDependencies,o)}else return tn(e.firebaseDependencies,o)})}function Ls(e){return u(this,null,function*(){let t=yield cn(e.firebaseDependencies);t&&(yield un(e.firebaseDependencies,t.token),yield Rs(e.firebaseDependencies));let o=yield e.swRegistration.pushManager.getSubscription();return o?o.unsubscribe():!0})}function Ws(e,t){return u(this,null,function*(){try{let o=yield Us(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:o,createTime:Date.now()});return yield Gt(e.firebaseDependencies,r),o}catch(o){throw o}})}function tn(e,t){return u(this,null,function*(){let r={token:yield Ns(e,t),createTime:Date.now(),subscriptionOptions:t};return yield Gt(e,r),r.token})}function Bs(e,t){return u(this,null,function*(){let o=yield e.pushManager.getSubscription();return o||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xs(t)})})}function Hs(e,t){let o=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,n=t.auth===e.auth,i=t.p256dh===e.p256dh;return o&&r&&n&&i}function on(e){let t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return Vs(t,e),Ks(t,e),qs(t,e),t}function Vs(e,t){if(!t.notification)return;e.notification={};let o=t.notification.title;o&&(e.notification.title=o);let r=t.notification.body;r&&(e.notification.body=r);let n=t.notification.image;n&&(e.notification.image=n);let i=t.notification.icon;i&&(e.notification.icon=i)}function Ks(e,t){t.data&&(e.data=t.data)}function qs(e,t){var o,r,n,i,s;if(!t.fcmOptions&&!(!((o=t.notification)===null||o===void 0)&&o.click_action))return;e.fcmOptions={};let l=(n=(r=t.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&n!==void 0?n:(i=t.notification)===null||i===void 0?void 0:i.click_action;l&&(e.fcmOptions.link=l);let M=(s=t.fcmOptions)===null||s===void 0?void 0:s.analytics_label;M&&(e.fcmOptions.analyticsLabel=M)}function Ys(e){return typeof e=="object"&&!!e&&an in e}Gs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function Gs(e,t){let o=[];for(let r=0;r<e.length;r++)o.push(e.charAt(r)),r<t.length&&o.push(t.charAt(r));return o.join("")}function zs(e){if(!e||!e.options)throw Kt("App Configuration Object");if(!e.name)throw Kt("App Name");let t=["projectId","apiKey","appId","messagingSenderId"],{options:o}=e;for(let r of t)if(!o[r])throw Kt(r);return{appName:e.name,projectId:o.projectId,apiKey:o.apiKey,appId:o.appId,senderId:o.messagingSenderId}}function Kt(e){return P.create("missing-app-config-values",{valueName:e})}var qt=class{constructor(t,o,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let n=zs(t);this.firebaseDependencies={app:t,appConfig:n,installations:o,analyticsProvider:r}}_delete(){return Promise.resolve()}};function ln(e){return u(this,null,function*(){try{e.swRegistration=yield navigator.serviceWorker.register(Is,{scope:Es}),e.swRegistration.update().catch(()=>{}),yield Js(e.swRegistration)}catch(t){throw P.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})}function Js(e){return u(this,null,function*(){return new Promise((t,o)=>{let r=setTimeout(()=>o(new Error(`Service worker not registered after ${Xr} ms`)),Xr),n=e.installing||e.waiting;e.active?(clearTimeout(r),t()):n?n.onstatechange=i=>{var s;((s=i.target)===null||s===void 0?void 0:s.state)==="activated"&&(n.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),o(new Error("No incoming service worker found.")))})})}function Qs(e,t){return u(this,null,function*(){if(!t&&!e.swRegistration&&(yield ln(e)),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw P.create("invalid-sw-registration");e.swRegistration=t}})}function Zs(e,t){return u(this,null,function*(){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=sn)})}function fn(e,t){return u(this,null,function*(){if(!navigator)throw P.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw P.create("permission-blocked");return yield Zs(e,t?.vapidKey),yield Qs(e,t?.serviceWorkerRegistration),$s(e)})}function Xs(e,t,o){return u(this,null,function*(){let r=ea(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:o[an],message_name:o[Ts],message_time:o[ks],message_device_time:Math.floor(Date.now()/1e3)})})}function ea(e){switch(e){case st.NOTIFICATION_CLICKED:return"notification_open";case st.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ta(e,t){return u(this,null,function*(){let o=t.data;if(!o.isFirebaseMessaging)return;e.onMessageHandler&&o.messageType===st.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(on(o)):e.onMessageHandler.next(on(o)));let r=o.data;Ys(r)&&r[Ds]==="1"&&(yield Xs(e,o.messageType,r))})}var rn="@firebase/messaging",nn="0.12.22";var oa=e=>{let t=new qt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",o=>ta(t,o)),t},ra=e=>{let t=e.getProvider("messaging").getImmediate();return{getToken:r=>fn(t,r)}};function na(){ve(new be("messaging",oa,"PUBLIC")),ve(new be("messaging-internal",ra,"PRIVATE")),Z(rn,nn),Z(rn,nn,"esm2017")}function pn(){return u(this,null,function*(){try{yield cr()}catch{return!1}return typeof window<"u"&&ar()&&ur()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function ia(e){return u(this,null,function*(){if(!navigator)throw P.create("only-available-in-window");return e.swRegistration||(yield ln(e)),Ls(e)})}function sa(e,t){if(!navigator)throw P.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}function mn(e=Pt()){return pn().then(t=>{if(!t)throw P.create("unsupported-browser")},t=>{throw P.create("indexed-db-unsupported")}),Fe(Oe(e),"messaging").getImmediate()}function gn(e,t){return u(this,null,function*(){return e=Oe(e),fn(e,t)})}function hn(e){return e=Oe(e),ia(e)}function bn(e,t){return e=Oe(e),sa(e,t)}na();var ce=class{constructor(t){return t}},vn="messaging",Zt=class{constructor(){return pr(vn)}};var Xt=new fe("angularfire2.messaging-instances");function aa(e,t,o){if(_t(o))return null;let r=fr(vn,e,t);return r&&new ce(r)}function ca(e){return(t,o,r)=>{if(_t(r))return null;let n=t.runOutsideAngular(()=>e(o));return new ce(n)}}var ua={provide:Zt,deps:[[new xt,Xt]]},da={provide:ce,useFactory:aa,deps:[[new xt,Xt],gr,Ct]};function yn(e,...t){return Z("angularfire",lr.full,"fcm"),pe([da,ua,{provide:Xt,useFactory:ca(e),multi:!0,deps:[Le,je,Ct,mr,hr,...t]}])}var wn=_e(hn,!0,2),Sn=_e(mn,!0),In=_e(gn,!0);var En=_e(bn,!1);var at={firebaseConfig:{apiKey:"AIzaSyBLb6gK4thvmfCdEvaOqaxNrlo-ruOZV9o",authDomain:"petcheck-c6543.firebaseapp.com",projectId:"petcheck-c6543",storageBucket:"petcheck-c6543.firebasestorage.app",messagingSenderId:"370355042235",appId:"1:370355042235:web:4e6ed52bd4b5ac8e39f69e"},vapidKey:"BPZ5Uf3I_ZNqJ6YvXNiBvju9rXJUTn5MFkDLwQCF0cPG2uJ6ZusWmV6tae0A8U8jRjpnmIJQevCsh7Ui6CQYe8Q"};var Ee=class e{messaging=f(ce);firestore=f($);auth=f(X);vapidKey=at.vapidKey;onMessageUnsub;registerPushToken(){return u(this,null,function*(){let t=this.auth.currentUser;if(!t)return null;if((yield Notification.requestPermission())!=="granted")throw new Error("Permission not granted for Notification");try{let r=yield navigator.serviceWorker.ready;if(!r)return null;console.log(r);let n=yield In(this.messaging,{vapidKey:this.vapidKey,serviceWorkerRegistration:r});if(console.log("token: ",n),!n)throw new Error("No registration token received");return yield Se(R(this.firestore,`users/${t.uid}`),{pushToken:n},{merge:!0}),console.log("Push token saved to user: ",n),n}catch(r){throw console.error("Error while token generation: ",r),r}})}removeTokenForCurrentUser(){return u(this,null,function*(){try{yield wn(this.messaging).catch(()=>{});let t=this.auth.currentUser;if(!t)return;yield Se(R(this.firestore,`users/${t.uid}`),{pushToken:null},{merge:!0})}catch(t){console.error("Error deleting token: ",t)}})}listenForMessages(){this.onMessageUnsub||(this.onMessageUnsub=En(this.messaging,t=>{if(Notification.permission==="granted")try{new Notification(t.notification?.title??"Erinnerung",{body:t.notification?.body})}catch(o){console.error("Error displaying notification: ",o)}}))}stopListening(){this.onMessageUnsub?.(),this.onMessageUnsub=void 0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var ct=class e{constructor(t){this.pushService=t}ngOnInit(){this.pushService.listenForMessages()}static \u0275fac=function(o){return new(o||e)(me(Ee))};static \u0275cmp=B({type:e,selectors:[["app-main-layout"]],decls:6,vars:0,consts:[["pageTitle","PetCheck"]],template:function(o,r){o&1&&(b(0,"header"),j(1,"app-header",0),v(),b(2,"main"),j(3,"router-outlet"),v(),b(4,"footer"),j(5,"app-navbar"),v())},dependencies:[et,ot,He],styles:["main[_ngcontent-%COMP%]{padding-top:70px;padding-left:1.5rem;padding-right:1.5rem}"]})};function pa(e,t){e&1&&(b(0,"p"),_(1," Du bist offline \u2013 Login nicht m\xF6glich. "),v())}function ma(e,t){e&1&&(b(0,"mat-form-field",3)(1,"mat-label"),_(2,"Name"),v(),j(3,"input",9),v())}function ga(e,t){if(e&1&&(b(0,"span"),_(1),v()),e&2){let o=yo();F(),xe(o.registrate?"Registrieren":"Anmelden")}}function ha(e,t){e&1&&(b(0,"span",7),po(),b(1,"svg",10),j(2,"circle",11)(3,"path",12),v(),_(4," L\xE4dt... "),v())}var ut=class e{constructor(t,o,r){this.fb=t;this.store=o;this.router=r}loginForm;loading$;user$;error$;isOnline=navigator.onLine;registrate=!1;ngOnInit(){this.loginForm=this.fb.group({name:[""],email:["",[Ce.required,Ce.email]],password:["",[Ce.required,Ce.minLength(6)]]}),this.loading$=this.store.select(Or),this.user$=this.store.select(Cr),this.error$=this.store.select(Ar),this.store.select(Qe).pipe(K(t=>t===!0),U(1)).subscribe(()=>{this.router.navigate(["/dashboard"])}),window.addEventListener("online",()=>this.isOnline=!0),window.addEventListener("offline",()=>this.isOnline=!1)}onSubmit(){if(!(this.loginForm.invalid||!this.isOnline))if(this.registrate){let{name:t,email:o,password:r}=this.loginForm.value;this.store.dispatch(m.register({name:t,email:o,password:r}))}else{let{email:t,password:o}=this.loginForm.value;this.store.dispatch(m.login({email:t,password:o}))}}static \u0275fac=function(o){return new(o||e)(me(er),me(J),me(he))};static \u0275cmp=B({type:e,selectors:[["app-login-layout"]],decls:29,vars:14,consts:[[1,"login-page"],[1,"login-card"],["novalidate","",1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","email"],["matInput","","formControlName","password"],["matButton","","type","submit",1,"w-full","bg-blue-600","hover:bg-blue-700","disabled:bg-gray-400","text-white","font-semibold","py-2","rounded-lg","transition",3,"disabled"],[1,"flex","items-center","justify-center"],["matButton","",3,"click"],["matInput","","formControlName","name"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v8z",1,"opacity-75"]],template:function(o,r){o&1&&(b(0,"div")(1,"div",0)(2,"mat-card",1)(3,"mat-card-title"),_(4," Willkommen zur\xFCck\u{1F44B} "),v(),b(5,"mat-card-content"),ke(6,pa,2,0,"p"),b(7,"form",2),At("ngSubmit",function(){return r.onSubmit()}),ke(8,ma,4,0,"mat-form-field",3),b(9,"mat-form-field",3)(10,"mat-label"),_(11,"E-Mail"),v(),j(12,"input",4),v(),b(13,"mat-form-field",3)(14,"mat-label"),_(15,"Passwort"),v(),j(16,"input",5),v(),j(17,"br"),b(18,"button",6),We(19,"async"),ke(20,ga,2,1,"span"),We(21,"async"),ke(22,ha,5,0,"span",7),We(23,"async"),v()(),b(24,"div")(25,"p"),_(26),b(27,"button",8),At("click",function(){return r.registrate=!r.registrate}),_(28),v()()()()()()()),o&2&&(F(6),De(r.isOnline?-1:6),F(),Y("formGroup",r.loginForm),F(),De(r.registrate?8:-1),F(10),Y("disabled",r.loginForm.invalid||Be(19,8,r.loading$)||!r.isOnline),F(2),De(Be(21,10,r.loading$)?-1:20),F(2),De(Be(23,12,r.loading$)?22:-1),F(4),ko(" ",r.registrate?"Sie haben bereits ein Konto?":"Noch kein Konto?"," "),F(2),xe(r.registrate?"Anmelden":"Registrieren"))},dependencies:[tr,Qo,Go,zo,Jo,Zo,Xo,Yo,Vo,qo,Ko,nr,rr,or,sr,ir,qe,Po,Oo],styles:[".login-page[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh}.login-card[_ngcontent-%COMP%]{margin:2rem auto;padding:1rem}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}mat-card-content[_ngcontent-%COMP%]{padding-top:2rem}"]})};var Mn=()=>{let e=f(J),t=f(he);return e.select(Qe).pipe(U(1),Ne(o=>{o||t.navigate(["/login"])}))};var Tn=[{path:"login",component:ut},{path:"",component:ct,canActivate:[Mn],children:[{path:"dashboard",loadChildren:()=>import("./chunk-IIY5A7E3.js").then(e=>e.DashboardModule)},{path:"calendar",loadChildren:()=>import("./chunk-2GY5EQAC.js").then(e=>e.CalendarModule)},{path:"settings",loadChildren:()=>import("./chunk-IUAO776Q.js").then(e=>e.SettingsModule)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]}];var eo="Service workers are disabled or not supported by this browser",Me=class{serviceWorker;worker;registration;events;constructor(t,o){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=new de(r=>r.error(new re(5601,!1)));else{let r=null,n=new le;this.worker=new de(x=>(r!==null&&x.next(r),n.subscribe(p=>x.next(p))));let i=()=>{let{controller:x}=t;x!==null&&(r=x,n.next(r))};t.addEventListener("controllerchange",i),i(),this.registration=this.worker.pipe(H(()=>t.getRegistration().then(x=>{if(!x)throw new re(5601,!1);return x})));let s=new le;this.events=s.asObservable();let l=x=>{let{data:p}=x;p?.type&&s.next(p)};t.addEventListener("message",l),o?.get(Ot,null,{optional:!0})?.onDestroy(()=>{t.removeEventListener("controllerchange",i),t.removeEventListener("message",l)})}}postMessage(t,o){return new Promise(r=>{this.worker.pipe(U(1)).subscribe(n=>{n.postMessage(a({action:t},o)),r()})})}postMessageWithOperation(t,o,r){let n=this.waitForOperationCompleted(r),i=this.postMessage(t,o);return Promise.all([i,n]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let o;return typeof t=="string"?o=r=>r.type===t:o=r=>t.includes(r.type),this.events.pipe(K(o))}nextEventOfType(t){return this.eventsOfType(t).pipe(U(1))}waitForOperationCompleted(t){return new Promise((o,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(K(n=>n.nonce===t),U(1),h(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).subscribe({next:o,error:r})})}get isEnabled(){return!!this.serviceWorker}},ba=(()=>{class e{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new le;constructor(o){if(this.sw=o,!o.isEnabled){this.messages=z,this.notificationClicks=z,this.notificationCloses=z,this.pushSubscriptionChanges=z,this.subscription=z;return}this.messages=this.sw.eventsOfType("PUSH").pipe(h(n=>n.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(h(n=>n.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(h(n=>n.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(h(n=>n.data)),this.pushManager=this.sw.registration.pipe(h(n=>n.pushManager));let r=this.pushManager.pipe(H(n=>n.getSubscription()));this.subscription=new de(n=>{let i=r.subscribe(n),s=this.subscriptionChanges.subscribe(n);return()=>{i.unsubscribe(),s.unsubscribe()}})}requestSubscription(o){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(eo));let r={userVisibleOnly:!0},n=this.decodeBase64(o.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(n.length));for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return r.applicationServerKey=i,new Promise((s,l)=>{this.pushManager.pipe(H(M=>M.subscribe(r)),U(1)).subscribe({next:M=>{this.subscriptionChanges.next(M),s(M)},error:l})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(eo));let o=r=>{if(r===null)throw new re(5602,!1);return r.unsubscribe().then(n=>{if(!n)throw new re(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,n)=>{this.subscription.pipe(U(1),H(o)).subscribe({next:r,error:n})})}decodeBase64(o){return atob(o)}static \u0275fac=function(r){return new(r||e)(q(Me))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),va=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(o){if(this.sw=o,!o.isEnabled){this.versionUpdates=z,this.unrecoverable=z;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED","VERSION_FAILED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(eo));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let o=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:o},o).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new re(5601,!1));let o=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:o},o)}static \u0275fac=function(r){return new(r||e)(q(Me))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})();var Dn=new fe("");function ya(){let e=f(Pe);if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let t=f(Dn),o=f(Le),r=f(Ot);o.runOutsideAngular(()=>{let n=navigator.serviceWorker,i=()=>n.controller?.postMessage({action:"INITIALIZE"});n.addEventListener("controllerchange",i),r.onDestroy(()=>{n.removeEventListener("controllerchange",i)})}),o.runOutsideAngular(()=>{let n,{registrationStrategy:i}=e;if(typeof i=="function")n=new Promise(s=>i().subscribe(()=>s()));else{let[s,...l]=(i||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":n=Promise.resolve();break;case"registerWithDelay":n=kn(+l[0]||0);break;case"registerWhenStable":n=Promise.race([r.whenStable(),kn(+l[0])]);break;default:throw new re(5600,!1)}}n.then(()=>{r.destroyed||navigator.serviceWorker.register(t,{scope:e.scope,updateViaCache:e.updateViaCache,type:e.type}).catch(s=>console.error(lo(5604,!1)))})})}function kn(e){return new Promise(t=>setTimeout(t,e))}function wa(e,t){return new Me(e.enabled!==!1?navigator.serviceWorker:void 0,t)}var Pe=class{enabled;updateViaCache;type;scope;registrationStrategy};function xn(e,t={}){return pe([ba,va,{provide:Dn,useValue:e},{provide:Pe,useValue:t},{provide:Me,useFactory:wa,deps:[Pe,je]},vo(ya)])}var Sa={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},dt="__@ngrx/effects_create__";function E(e,t={}){let o=t.functional?e:e(),r=a(a({},Sa),t);return Object.defineProperty(o,dt,{value:r}),o}function Ia(e){return Object.getOwnPropertyNames(e).filter(r=>e[r]&&e[r].hasOwnProperty(dt)?e[r][dt].hasOwnProperty("dispatch"):!1).map(r=>{let n=e[r][dt];return a({propertyName:r},n)})}function Ea(e){return Ia(e)}function Cn(e){return Object.getPrototypeOf(e)}function Ma(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function On(e){return typeof e=="function"}function Ta(e){return e.filter(On)}function ka(e,t,o){let r=Cn(e),i=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,s=Ea(e).map(({propertyName:l,dispatch:M,useEffectsErrorHandler:x})=>{let p=typeof e[l]=="function"?e[l]():e[l],N=x?o(p,t):p;return M===!1?N.pipe(so()):N.pipe(uo()).pipe(h(Di=>({effect:e[l],notification:Di,propertyName:l,sourceName:i,sourceInstance:e})))});return kt(...s)}var Da=10;function An(e,t,o=Da){return e.pipe(y(r=>(t&&t.handleError(r),o<=1?e:An(e,t,o-1))))}var ee=(()=>{let t=class t extends de{constructor(r){super(),r&&(this.source=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}};t.\u0275fac=function(n){return new(n||t)(q(Bo))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function D(...e){return K(t=>e.some(o=>typeof o=="string"?o===t.type:o.type===t.type))}var xa=new fe("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>An}),Ca="@ngrx/effects/init",Oa=jo(Ca);function Aa(e,t){if(e.notification.kind==="N"){let o=e.notification.value;!Fa(o)&&t.handleError(new Error(`Effect ${_a(e)} dispatched an invalid action: ${Ra(o)}`))}}function Fa(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function _a({propertyName:e,sourceInstance:t,sourceName:o}){let r=typeof t[e]=="function";return!!o?`"${o}.${String(e)}${r?"()":""}"`:`"${String(e)}()"`}function Ra(e){try{return JSON.stringify(e)}catch{return e}}var Pa="ngrxOnIdentifyEffects";function Na(e){return to(e,Pa)}var Ua="ngrxOnRunEffects";function ja(e){return to(e,Ua)}var $a="ngrxOnInitEffects";function La(e){return to(e,$a)}function to(e,t){return e&&t in e&&typeof e[t]=="function"}var Fn=(()=>{let t=class t extends le{constructor(r,n){super(),this.errorHandler=r,this.effectsErrorHandler=n}addEffects(r){this.next(r)}toActions(){return this.pipe(Dt(r=>Ma(r)?Cn(r):r),T(r=>r.pipe(Dt(Wa))),T(r=>{let n=r.pipe(co(s=>Ba(this.errorHandler,this.effectsErrorHandler)(s)),h(s=>(Aa(s,this.errorHandler),s.notification)),K(s=>s.kind==="N"&&s.value!=null),ao()),i=r.pipe(U(1),K(La),h(s=>s.ngrxOnInitEffects()));return kt(n,i)}))}};t.\u0275fac=function(n){return new(n||t)(q(go),q(xa))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Wa(e){return Na(e)?e.ngrxOnIdentifyEffects():""}function Ba(e,t){return o=>{let r=ka(o,e,t);return ja(o)?o.ngrxOnRunEffects(r):r}}var Ha=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(r,n){this.effectSources=r,this.store=n,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(n){return new(n||t)(q(Fn),q(J))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function _n(...e){let t=e.flat(),o=Ta(t);return pe([o,fo(()=>{f(Lo),f(Wo,{optional:!0});let r=f(Ha),n=f(Fn),i=!r.isStarted;i&&r.start();for(let s of t){let l=On(s)?f(s):s;n.addEffects(l)}i&&f(J).dispatch(Oa())})])}var Rn={user:null,loading:!1,isAuthenticated:!1},Pn=Q(Rn,g(m.login,m.register,e=>(console.log("loggin in ... :",e),d(a({},e),{loading:!0}))),g(m.loginSucess,m.registerSucess,(e,{user:t})=>d(a({},e),{user:t,loading:!1,isAuthenticated:!0})),g(m.loginFailure,m.registerFailure,(e,{error:t})=>d(a({},e),{loading:!1,error:t})),g(m.logoutSucess,()=>a({},Rn)),g(m.generatePushToken,e=>d(a({},e),{loading:!0})),g(m.generatePushTokenSuccess,(e,{token:t})=>d(a({},e),{loading:!1,user:e.user?d(a({},e.user),{pushToken:t}):null})),g(m.generatePushTokenFailure,(e,{error:t})=>d(a({},e),{loading:!1,error:t})),g(m.deletePushToken,e=>d(a({},e),{loading:!0})),g(m.deletePushTokenSuccess,e=>d(a({},e),{loading:!1,user:e.user?d(a({},e.user),{pushToken:null}):null})),g(m.deletePushTokenFailure,e=>d(a({},e),{loading:!1})),g(m.authStateChanged,(e,{user:t})=>d(a({},e),{user:t,isAuthenticated:!!t})));var Va={pets:[],loading:!1,error:null,offlineQueue:[]},Nn=Q(Va,g(k.loadPets,e=>d(a({},e),{loading:!0})),g(k.loadPetsSuccess,(e,{pets:t})=>d(a({},e),{loading:!1,pets:t})),g(k.loadPetsFailure,(e,{error:t})=>d(a({},e),{loading:!1,error:t})),g(k.addPetSucess,(e,{pet:t})=>d(a({},e),{pets:[...e.pets,t]})),g(k.updatePetSucess,(e,{pet:t})=>d(a({},e),{pets:e.pets.map(o=>o.id===t.id?t:o)})),g(k.deletePetSucess,(e,{petId:t})=>d(a({},e),{pets:e.pets.filter(o=>o.id!==t)})),g(k.queueOfflineAction,(e,{action:t})=>d(a({},e),{offlineQueue:[...e.offlineQueue,t]})),g(k.syncOfflineActions,e=>d(a({},e),{offlineQueue:[]})));var O=$o({source:"User",events:{"Load User":W(),"Load User Sucess":W(),"Load User Failure":W(),"Add User":W(),"Add User Sucess":W(),"Add User Failure":W(),"Update User":W(),"Update User Sucess":W(),"Update User Failure":W(),"Delete User":W(),"Delete User Sucess":W(),"Delete User Failure":W()}});var Ka={users:[],loading:!1,loggedIn:!1,error:null},Un=Q(Ka,g(O.loadUser,e=>d(a({},e),{loading:!0})),g(O.loadUserSucess,(e,{user:t})=>d(a({},e),{selectedUser:t,loading:!1,loggedIn:!0})),g(O.loadUserFailure,(e,{error:t})=>d(a({},e),{loading:!1,loggedIn:!1,error:t})),g(O.addUserSucess,(e,{user:t})=>d(a({},e),{users:[...e.users,t]})),g(O.updateUserSucess,(e,{user:t})=>d(a({},e),{users:e.users.map(o=>o.id===t.id?t:o),selectedUser:e.selectedUser?.id===t.id?t:e.selectedUser})),g(O.deleteUserSucess,(e,{userId:t})=>d(a({},e),{users:e.users.filter(o=>o.id!==t),selectedUser:e.selectedUser?.id===t?void 0:e.selectedUser})));var lt=class e{actions$=f(ee);auth=f(X);firestore=f($);pushService=f(Ee);router=f(he);login$=E(()=>this.actions$.pipe(D(m.login),T(({email:t,password:o})=>A(Er(this.auth,t,o)).pipe(H(({user:r})=>{let n=R(this.firestore,`users/${r.uid}`);return Re(n,{idField:"id"}).pipe(U(1),h(i=>{if(i)return m.loginSucess({user:i});{let s={id:r.uid,name:r.displayName??"",email:r.email??""};return Se(n,s),m.loginSucess({user:s})}}))}),y(r=>(console.error("[AuthEffect] Login Error:",r),S(m.loginFailure({error:r}))))))));register$=E(()=>this.actions$.pipe(D(m.register),T(({email:t,password:o,name:r})=>A(Sr(this.auth,t,o)).pipe(H(({user:n})=>{let i={id:n.uid,name:r,email:t},s=R(this.firestore,`users/${n.uid}`);return A(Se(s,i)).pipe(h(()=>m.registerSucess({user:i})),y(l=>S(m.registerFailure({error:l}))))}),y(n=>S(m.registerFailure({error:n})))))));generateToken$=E(()=>this.actions$.pipe(D(m.generatePushToken),H(()=>A(this.pushService.registerPushToken()).pipe(h(t=>{if(t==null)throw new Error("No token generated");return m.generatePushTokenSuccess({token:t})}),y(t=>S(m.generatePushTokenFailure({error:t})))))));deleteToken$=E(()=>this.actions$.pipe(D(m.deletePushToken),H(()=>A(this.pushService.removeTokenForCurrentUser()).pipe(h(()=>m.deletePushTokenSuccess()),y(t=>S(m.deletePushTokenFailure({error:t})))))));logout$=E(()=>this.actions$.pipe(D(m.logout),T(()=>A(Mr(this.auth)).pipe(h(()=>m.logoutSucess()),y(t=>S(m.logoutFailure({error:t})))))));logoutSuccess$=E(()=>this.actions$.pipe(D(m.logoutSucess),Ne(()=>{this.router.navigate(["/login"])})),{dispatch:!1});authState$=E(()=>wr(this.auth).pipe(H(t=>{if(!t)return S(m.authStateChanged({user:null}));let o=R(this.firestore,`users/${t.uid}`);return Re(o,{idField:"id"}).pipe(h(r=>m.authStateChanged({user:r})),y(r=>(console.error("[AuthEffect] Error loading userDoc: ",r),S(m.authStateChanged({user:null})))))})));static \u0275fac=function(o){return new(o||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})};var ft=class e{firestore=f($);auth=f(X);addPet(t){return u(this,null,function*(){let o=this.auth.currentUser;if(!o)throw new Error("Currently not logged in");let r=V(this.firestore,`users/${o.uid}/pets`);yield ye(r,d(a({},t),{ownerId:o.uid}))})}updatePet(t){return u(this,null,function*(){let o=this.auth.currentUser;if(!o)throw new Error("Currently not logged in");let r=R(this.firestore,`users/${o.uid}/pets/${t.id}`);yield Ie(r,a({},t))})}deletePet(t){return u(this,null,function*(){let o=this.auth.currentUser;if(!o)throw new Error("Currently not logged in");let r=R(this.firestore,`users/${o.uid}/pets/${t}`);yield we(r)})}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var pt=class e{actions$=f(ee);firestore=f($);petService=f(ft);loadPets$=E(()=>this.actions$.pipe(D(k.loadPets),T(({userId:t})=>{let o=V(this.firestore,`users/${t}/pets`);return Je(o,{idField:"id"}).pipe(h(r=>k.loadPetsSuccess({pets:r})),y(r=>S(k.loadPetsFailure({error:r}))))})));addPet$=E(()=>this.actions$.pipe(D(k.addPet),T(t=>A(this.petService.addPet(t.pet)).pipe(h(()=>k.addPetSucess({pet:t.pet})),y(o=>S(k.addPetFailure({error:o})))))));updatePet$=E(()=>this.actions$.pipe(D(k.updatePet),T(t=>A(this.petService.updatePet(t.pet)).pipe(h(()=>k.updatePetSucess({pet:t.pet})),y(o=>S(k.updatePetFailure({error:o})))))));deletePet$=E(()=>this.actions$.pipe(D(k.deletePet),T(t=>A(this.petService.deletePet(t.petId)).pipe(h(()=>k.deletePetSucess({petId:t.petId})),y(o=>S(k.deletePetFailure({error:o})))))));static \u0275fac=function(o){return new(o||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})};var mt=class e{actions$=f(ee);firestore=f($);loadUser$=E(()=>this.actions$.pipe(D(O.loadUser),T(({userId:t})=>{let o=R(this.firestore,`users/${t}`);return Re(o,{idField:"id"}).pipe(h(r=>O.loadUserSucess({user:r})),y(r=>S(O.loadUserFailure({error:r}))))})));AddUser$=E(()=>this.actions$.pipe(D(O.addUser),T(({user:t})=>{let o=V(this.firestore,"users");return A(ye(o,t)).pipe(h(r=>O.addUserSucess({user:d(a({},t),{id:r.id})})),y(r=>S(O.addUserFailure({error:r}))))})));updateUser$=E(()=>this.actions$.pipe(D(O.updateUser),T(({user:t})=>{let o=R(this.firestore,`users/${t.id}`);return A(Ie(o,a({},t))).pipe(h(()=>O.updateUserSucess({user:t})),y(r=>S(O.updateUserFailure({error:r}))))})));deleteUser$=E(()=>this.actions$.pipe(D(O.deleteUser),T(({userId:t})=>{let o=R(this.firestore,`users/${t}`);return A(we(o)).pipe(h(()=>O.deleteUserSucess({userId:t})),y(r=>S(O.deleteUserFailure({error:r}))))})));static \u0275fac=function(o){return new(o||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})};var qa={reminders:[],loading:!1},jn=Q(qa,g(I.addSuccess,(e,{appointment:t})=>{let o=e.reminders??[];return o.some(n=>n.id===t.id)?d(a({},e),{loading:!1}):d(a({},e),{loading:!1,reminders:[...o,t]})}),g(I.addFailure,(e,{error:t})=>d(a({},e),{loading:!1,error:t})),g(I.updateSuccess,(e,{appointment:t})=>d(a({},e),{reminders:e.reminders.map(o=>o.id===t.id?t:o)})),g(I.delete,e=>d(a({},e),{loading:!0})),g(I.deleteFailure,(e,{error:t})=>d(a({},e),{loading:!1,error:t})),g(I.deleteSuccess,(e,{appointmentId:t})=>d(a({},e),{loading:!1,reminders:e.reminders.filter(o=>o.id!==t)})),g(I.load,e=>d(a({},e),{loading:!0})),g(I.loadSuccess,(e,{appointments:t})=>d(a({},e),{loading:!1,reminders:[...e.reminders,...t]})),g(I.loadFailure,(e,{error:t})=>d(a({},e),{loading:!1,error:t})));var gt=class e{firestore=f($);auth=f(X);addAppointment(t){return u(this,null,function*(){let o=this.auth.currentUser;if(!o)throw new Error("Currently not lodded in");console.log("trying to add reminder..."),console.log(o.uid);let r=V(this.firestore,`users/${o.uid}/reminders`);yield ye(r,d(a({},t),{notified:!1}))})}updateReminder(t){return u(this,null,function*(){let o=this.auth.currentUser;if(!o)throw new Error("Currently not logged in");let r=R(this.firestore,`users/${o.uid}/reminders/${t.id}`);yield Ie(r,a({},t))})}deleteReminder(t){return u(this,null,function*(){let o=this.auth.currentUser;if(!o)throw new Error("Currently not logged in");let r=R(this.firestore,`users/${o.uid}/reminders/${t}`);yield we(r)})}static \u0275fac=function(o){return new(o||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var ht=class e{actions$=f(ee);firestore=f($);ReminderService=f(gt);add$=E(()=>this.actions$.pipe(D(I.add),T(t=>A(this.ReminderService.addAppointment(t.appointment)).pipe(h(()=>I.addSuccess({appointment:d(a({},t.appointment),{notified:!1})})),y(o=>S(I.addFailure({error:o})))))));updateReminder$=E(()=>this.actions$.pipe(D(I.update),T(t=>A(this.ReminderService.updateReminder(t.appointment)).pipe(h(()=>I.updateSuccess({appointment:t.appointment})),y(o=>S(I.updateFailure({error:o})))))));deleteReminder$=E(()=>this.actions$.pipe(D(I.delete),T(t=>A(this.ReminderService.deleteReminder(t.appointmentId)).pipe(h(()=>I.deleteSuccess({appointmentId:t.appointmentId})),y(o=>S(I.deleteFailure({error:o})))))));load$=E(()=>this.actions$.pipe(D(I.load),T(({userId:t})=>{let o=V(this.firestore,`users/${t}/reminders`);return Je(o,{idField:"id"}).pipe(h(r=>I.loadSuccess({appointments:r})),y(r=>S(I.loadFailure({error:r}))))})));static \u0275fac=function(o){return new(o||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})};var $n={providers:[xo({eventCoalescing:!0}),_o(Tn),xn("ngsw-worker.js",{enabled:!Co(),registrationStrategy:"registerWhenStable:30000"}),Ho({auth:Pn,pets:Nn,users:Un,reminders:jn}),_n([lt,pt,mt,ht]),br(()=>vr(at.firebaseConfig)),yr(()=>Ir()),Tr(()=>{let e=Dr();return kr(e).catch(t=>{console.warn("Firestore Persistence not enabled:",t)}),e}),yn(()=>Sn())]};var Ya=Math.pow(10,8)*24*60*60*1e3,jl=-Ya,Ln=6048e5,Wn=864e5,bt=6e4,Bn=36e5;var Ga=3600;var Hn=Ga*24,$l=Hn*7,za=Hn*365.2425,Ja=za/12,Ll=Ja*3,oo=Symbol.for("constructDateFrom");function w(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&oo in e?e[oo](t):e instanceof Date?new e.constructor(t):new Date(t)}function c(e,t){return w(t||e,e)}function Te(e,t,o){let r=c(e,o?.in);return isNaN(t)?w(o?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function vt(e,t,o){let r=c(e,o?.in);if(isNaN(t))return w(o?.in||e,NaN);if(!t)return r;let n=r.getDate(),i=w(o?.in||e,r.getTime());i.setMonth(r.getMonth()+t+1,0);let s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}function yt(e,t,o){return w(o?.in||e,+c(e)+t)}function Vn(e,t,o){return yt(e,t*Bn,o)}var Qa={};function wt(){return Qa}function St(e,t){let o=wt(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,n=c(e,t?.in),i=n.getDay(),s=(i<r?7:0)+i-r;return n.setDate(n.getDate()-s),n.setHours(0,0,0,0),n}function ue(e,t){return St(e,d(a({},t),{weekStartsOn:1}))}function Kn(e,t){let o=c(e,t?.in),r=o.getFullYear(),n=w(o,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);let i=ue(n),s=w(o,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);let l=ue(s);return o.getTime()>=i.getTime()?r+1:o.getTime()>=l.getTime()?r:r-1}function ro(e){let t=c(e),o=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return o.setUTCFullYear(t.getFullYear()),+e-+o}function te(e,...t){let o=w.bind(null,e||t.find(r=>typeof r=="object"));return t.map(o)}function oe(e,t){let o=c(e,t?.in);return o.setHours(0,0,0,0),o}function qn(e,t,o){let[r,n]=te(o?.in,e,t),i=oe(r),s=oe(n),l=+i-ro(i),M=+s-ro(s);return Math.round((l-M)/Wn)}function Yn(e,t){let o=Kn(e,t),r=w(t?.in||e,0);return r.setFullYear(o,0,4),r.setHours(0,0,0,0),ue(r)}function Gn(e,t,o){let r=c(e,o?.in);return r.setTime(r.getTime()+t*bt),r}function zn(e,t,o){return yt(e,t*1e3,o)}function It(e,t,o){return Te(e,t*7,o)}function Jn(e,t){let o,r=t?.in;return e.forEach(n=>{!r&&typeof n=="object"&&(r=w.bind(null,n));let i=c(n,r);(!o||o<i||isNaN(+i))&&(o=i)}),w(r,o||NaN)}function Qn(e,t,o){let[r,n]=te(o?.in,e,t);return+oe(r)==+oe(n)}function Xn(e,t,o){let[r,n]=te(o?.in,e,t),i=Zn(r,n),s=Math.abs(qn(r,n));r.setDate(r.getDate()-i*s);let l=+(Zn(r,n)===-i),M=i*(s-l);return M===0?0:M}function Zn(e,t){let o=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return o<0?-1:o>0?1:o}function Et(e){return t=>{let r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function Mt(e,t){return+c(e)-+c(t)}function ei(e,t,o){let r=Mt(e,t)/bt;return Et(o?.roundingMethod)(r)}function ti(e,t){let o=c(e,t?.in);return o.setHours(23,59,59,999),o}function oi(e,t){let o=c(e,t?.in),r=o.getMonth();return o.setFullYear(o.getFullYear(),r+1,0),o.setHours(23,59,59,999),o}function ri(e,t,o){let r=Mt(e,t)/1e3;return Et(o?.roundingMethod)(r)}function ni(e,t){let o=c(e,t?.in);return o.setDate(1),o.setHours(0,0,0,0),o}function ii(e,t){let o=wt(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,n=c(e,t?.in),i=n.getDay(),s=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+s),n.setHours(23,59,59,999),n}function si(e,t){let o=c(e,t?.in),r=+ue(o)-+Yn(o);return Math.round(r/Ln)+1}function ai(e,t){return c(e,t?.in).getDate()}function ci(e,t){return c(e,t?.in).getDay()}function ui(e,t){let o=c(e,t?.in),r=o.getFullYear(),n=o.getMonth(),i=w(o,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function di(e,t){return c(e,t?.in).getHours()}function li(e,t){return c(e,t?.in).getMinutes()}function fi(e,t){return c(e,t?.in).getMonth()}function pi(e,t){return c(e,t?.in).getFullYear()}function mi(e,t){let o=c(e,t?.in);return o.setSeconds(0,0),o}function gi(e,t,o){let[r,n]=te(o?.in,e,t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function no(e,t){let o=c(e,t?.in);return o.setMilliseconds(0),o}function hi(e,t){return+no(e)==+no(t)}function bi(e,t,o){return Te(e,-t,o)}function vi(e,t,o){let r=c(e,o?.in),n=r.getFullYear(),i=r.getDate(),s=w(o?.in||e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);let l=ui(s);return r.setMonth(t,Math.min(i,l)),r}function yi(e,t,o){let r=c(e,o?.in);return r.setDate(t),r}function wi(e,t,o){let r=c(e,o?.in);return r.setHours(t),r}function Si(e,t,o){let r=c(e,o?.in);return r.setMinutes(t),r}function Ii(e,t,o){let r=c(e,o?.in);return isNaN(+r)?w(o?.in||e,NaN):(r.setFullYear(t),r)}function Ei(e,t,o){return vt(e,-t,o)}function Mi(e,t,o){return It(e,-t,o)}function Za(e){return new Date(e).getTimezoneOffset()}function Ti(){return{addDays:Te,addHours:Vn,addMinutes:Gn,addSeconds:zn,differenceInDays:Xn,differenceInMinutes:ei,differenceInSeconds:ri,endOfDay:ti,endOfMonth:oi,endOfWeek:ii,getDay:ci,getMonth:fi,isSameDay:Qn,isSameMonth:gi,isSameSecond:hi,max:Jn,setHours:wi,setMinutes:Si,startOfDay:oe,startOfMinute:mi,startOfMonth:ni,startOfWeek:St,getHours:di,getMinutes:li,getTimezoneOffset:Za}}function ki(){return Object.assign(Object.assign({},Ti()),{addWeeks:It,addMonths:vt,subDays:bi,subWeeks:Mi,subMonths:Ei,getISOWeek:si,setDate:yi,setMonth:vi,setYear:Ii,getDate:ai,getYear:pi})}var Tt=class e{title="PetCheck";static \u0275fac=function(o){return new(o||e)};static \u0275cmp=B({type:e,selectors:[["app-root"]],features:[Do([Uo({provide:No,useFactory:ki})])],decls:2,vars:0,consts:[[1,"main"]],template:function(o,r){o&1&&(b(0,"main",0),j(1,"router-outlet"),v())},dependencies:[He],encapsulation:2})};function Xa(){return u(this,null,function*(){try{if(yield Ao(Tt,$n),"serviceWorker"in navigator)try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase/"})}catch(e){console.error("firebase sw registration failed:",e)}}catch(e){console.error("Bootstrap failed: ",e)}})}Xa();
